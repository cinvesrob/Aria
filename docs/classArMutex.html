<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Aria: ArMutex Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Aria
   &#160;<span id="projectnumber">2.9.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classArMutex.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">ArMutex Class Reference<div class="ingroups"><a class="el" href="group__UtilityClasses.html">Utility Classes</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="ArMutex" -->
<p>Cross-platform mutex wrapper class.  
 <a href="classArMutex.html#details">More...</a></p>

<p><code>#include &lt;ArMutex.h&gt;</code></p>

<p><a href="classArMutex-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae40660428bf6083d5d3ce14f98ace19f"></a><!-- doxytag: member="ArMutex::MutexType" ref="ae40660428bf6083d5d3ce14f98ace19f" args="" -->
typedef pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><b>MutexType</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#a5b6ab50205f1004c939f3946cfca3c62">Status</a> { <a class="el" href="classArMutex.html#a5b6ab50205f1004c939f3946cfca3c62a410e62490f5c6ca8e320d60d1a25081b">STATUS_FAILED_INIT</a> = 1, 
<a class="el" href="classArMutex.html#a5b6ab50205f1004c939f3946cfca3c62afef90eab73ec7c605c7d2093572db8ad">STATUS_FAILED</a>, 
<a class="el" href="classArMutex.html#a5b6ab50205f1004c939f3946cfca3c62a5a52964b5d55e36a0d170a49a8384961">STATUS_ALREADY_LOCKED</a>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#a69c6e7a984d23363faabf5969a0aa51b">ArMutex</a> (bool recursive=true)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a69c6e7a984d23363faabf5969a0aa51b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3eb0fbf29060b36c2c61d590104fa8f3"></a><!-- doxytag: member="ArMutex::ArMutex" ref="a3eb0fbf29060b36c2c61d590104fa8f3" args="(const ArMutex &amp;mutex)" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#a3eb0fbf29060b36c2c61d590104fa8f3">ArMutex</a> (const <a class="el" href="classArMutex.html">ArMutex</a> &amp;mutex)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab6c0c5262a57b1cad42da3ed161dcd74"></a><!-- doxytag: member="ArMutex::getError" ref="ab6c0c5262a57b1cad42da3ed161dcd74" args="(int messageNumber) const " -->
virtual const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#ab6c0c5262a57b1cad42da3ed161dcd74">getError</a> (int messageNumber) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a human readable error message from an error code. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a906a64080c402fc53e6502d4163ed34d"></a><!-- doxytag: member="ArMutex::getMutex" ref="a906a64080c402fc53e6502d4163ed34d" args="()" -->
virtual MutexType &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#a906a64080c402fc53e6502d4163ed34d">getMutex</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a reference to the underlying OS-specific mutex variable. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#a7b6aee74872c19fb8829d96dc3e52f34">lock</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock the mutex.  <a href="#a7b6aee74872c19fb8829d96dc3e52f34"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#a98c8e884ea991c9eead1359ac4c915bb">setLog</a> (bool log)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a flag that will log out when we lock and unlock.  <a href="#a98c8e884ea991c9eead1359ac4c915bb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a00069ede1325b6f9f500ef2636858262"></a><!-- doxytag: member="ArMutex::setLogName" ref="a00069ede1325b6f9f500ef2636858262" args="(const char *logName)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#a00069ede1325b6f9f500ef2636858262">setLogName</a> (const char *logName)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a name we'll use to log with. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#a7211feb3bf6a740a857ca6e338229f1b">setLogNameVar</a> (const char *logName,...)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a name we'll use to log with formatting.  <a href="#a7211feb3bf6a740a857ca6e338229f1b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#a76ff7a4aa451cc9c2b08dda0ae77d823">tryLock</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to lock the mutex, but do not block.  <a href="#a76ff7a4aa451cc9c2b08dda0ae77d823"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afb51b5514a9456f23441e479fe58fb46"></a><!-- doxytag: member="ArMutex::unlock" ref="afb51b5514a9456f23441e479fe58fb46" args="()" -->
virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#afb51b5514a9456f23441e479fe58fb46">unlock</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock the mutex, allowing another thread to obtain the lock. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0993ae31527043d9c9c7fa75b6529080"></a><!-- doxytag: member="ArMutex::~ArMutex" ref="a0993ae31527043d9c9c7fa75b6529080" args="()" -->
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#a0993ae31527043d9c9c7fa75b6529080">~ArMutex</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#a427415d8a47d36abee174f8504c2ce67">getLockWarningTime</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the lock warning time (sec)  <a href="#a427415d8a47d36abee174f8504c2ce67"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#a97bab3f08a097cc206169deec0a96bb7">getUnlockWarningTime</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the lock warning time (sec)  <a href="#a97bab3f08a097cc206169deec0a96bb7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#ad0df3cd5e0d03c21975d0380585596d1">setLockWarningTime</a> (double lockWarningSeconds)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the lock warning time (sec).  <a href="#ad0df3cd5e0d03c21975d0380585596d1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#af9459634b10d103c933e058ce73f6874">setUnlockWarningTime</a> (double unlockWarningSeconds)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the unlock warning time (sec).  <a href="#af9459634b10d103c933e058ce73f6874"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7b4e4f99b02e169107354f5ec74c74d6"></a><!-- doxytag: member="ArMutex::checkLockTime" ref="a7b4e4f99b02e169107354f5ec74c74d6" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>checkLockTime</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aba49b52a95bac12a5b74d9f25aa5eb25"></a><!-- doxytag: member="ArMutex::checkUnlockTime" ref="aba49b52a95bac12a5b74d9f25aa5eb25" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>checkUnlockTime</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adc6f5f9b70c0a1a8d3e9ff99c5650acf"></a><!-- doxytag: member="ArMutex::initLockTiming" ref="adc6f5f9b70c0a1a8d3e9ff99c5650acf" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>initLockTiming</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0f0713b692e16640f72aa73ad6545798"></a><!-- doxytag: member="ArMutex::startLockTimer" ref="a0f0713b692e16640f72aa73ad6545798" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>startLockTimer</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad69f7cc40e8eb3e6dca058a06e57e25e"></a><!-- doxytag: member="ArMutex::startUnlockTimer" ref="ad69f7cc40e8eb3e6dca058a06e57e25e" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>startUnlockTimer</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa08770fd9af5bb7a6e1ba2fc6e08dfdd"></a><!-- doxytag: member="ArMutex::uninitLockTiming" ref="aa08770fd9af5bb7a6e1ba2fc6e08dfdd" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>uninitLockTiming</b> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4513a9aae549fff57b227d2ea42cd920"></a><!-- doxytag: member="ArMutex::myFailedInit" ref="a4513a9aae549fff57b227d2ea42cd920" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>myFailedInit</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a94a2fd0cd020161f9c1c62449289b141"></a><!-- doxytag: member="ArMutex::myFirstLock" ref="a94a2fd0cd020161f9c1c62449289b141" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>myFirstLock</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aca8dee050be7038b899e4a7ea5c497da"></a><!-- doxytag: member="ArMutex::myLockStarted" ref="aca8dee050be7038b899e4a7ea5c497da" args="" -->
<a class="el" href="classArTime.html">ArTime</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>myLockStarted</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a62514f78e031d12e79f63006a8e4ba95"></a><!-- doxytag: member="ArMutex::myLockTime" ref="a62514f78e031d12e79f63006a8e4ba95" args="" -->
<a class="el" href="classArTime.html">ArTime</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>myLockTime</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4f6dbd48727b3b6966321e64f50506fb"></a><!-- doxytag: member="ArMutex::myLog" ref="a4f6dbd48727b3b6966321e64f50506fb" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>myLog</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a69c25005aec0d6381f834ac89de6214a"></a><!-- doxytag: member="ArMutex::myLogName" ref="a69c25005aec0d6381f834ac89de6214a" args="" -->
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>myLogName</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a296fc1e8215c6e615c94f5334dbf7a97"></a><!-- doxytag: member="ArMutex::myMutex" ref="a296fc1e8215c6e615c94f5334dbf7a97" args="" -->
MutexType&#160;</td><td class="memItemRight" valign="bottom"><b>myMutex</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a14e99258a1f5c1f4ab1b3f1f2c7d38a1"></a><!-- doxytag: member="ArMutex::myNonRecursive" ref="a14e99258a1f5c1f4ab1b3f1f2c7d38a1" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>myNonRecursive</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af5f771810efd04ed19b5381007e36ba6"></a><!-- doxytag: member="ArMutex::myStrMap" ref="af5f771810efd04ed19b5381007e36ba6" args="" -->
ArStrMap&#160;</td><td class="memItemRight" valign="bottom"><b>myStrMap</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae18273df7fa36a03cebf1580a0c50061"></a><!-- doxytag: member="ArMutex::myWasAlreadyLocked" ref="ae18273df7fa36a03cebf1580a0c50061" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>myWasAlreadyLocked</b></td></tr>
<tr><td colspan="2"><h2><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afd2321c3c11ef25bccd95b9b08e1d3e7"></a><!-- doxytag: member="ArMutex::ourLockWarningMS" ref="afd2321c3c11ef25bccd95b9b08e1d3e7" args="" -->
static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>ourLockWarningMS</b> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1ca63d6be4f8f9d7cfb4e9c44d4c1b8f"></a><!-- doxytag: member="ArMutex::ourNonRecursiveDeadlockFunctor" ref="a1ca63d6be4f8f9d7cfb4e9c44d4c1b8f" args="" -->
static <a class="el" href="classArFunctor.html">ArFunctor</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>ourNonRecursiveDeadlockFunctor</b> = NULL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a15ce3854c36d1e8ec46dfc95f8d3703c"></a><!-- doxytag: member="ArMutex::ourUnlockWarningMS" ref="a15ce3854c36d1e8ec46dfc95f8d3703c" args="" -->
static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>ourUnlockWarningMS</b> = 0</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Cross-platform mutex wrapper class. </p>
<p>This class wraps the operating system's mutex functions. It allows mutualy exclusive access to a critical section. This is extremely useful for multiple threads which want to use the same variable. On Linux, <a class="el" href="classArMutex.html" title="Cross-platform mutex wrapper class.">ArMutex</a> simply uses the POSIX pthread interface in an object oriented manner. It also applies the same concept to Windows using Windows' own abilities to restrict access to critical sections. <a class="el" href="classArMutex.html" title="Cross-platform mutex wrapper class.">ArMutex</a> also adds additional diagnostic/debugging tools such as logging and timing.</p>
<dl class="note"><dt><b>Note:</b></dt><dd><a class="el" href="classArMutex.html" title="Cross-platform mutex wrapper class.">ArMutex</a> is by default a recursive mutex. This means that a thread is allowed to acquire an additional lock (whether via <a class="el" href="classArMutex.html#a7b6aee74872c19fb8829d96dc3e52f34" title="Lock the mutex.">lock()</a> or <a class="el" href="classArMutex.html#a76ff7a4aa451cc9c2b08dda0ae77d823" title="Try to lock the mutex, but do not block.">tryLock()</a>) on a locked mutex if that same thread already has the lock. This allows a thread to lock a mutex, but not become deadlocked if any functions called while it is locked also attempt to lock the mutex, while still preventing other threads from interrupting it. If you want a non-recursive mutex, so that multiple attempts by the same thread to lock a mutex to block, supply an argument of 'false' to the constructor. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="gpsRobotTaskExample_8cpp-example.html#_a5">gpsRobotTaskExample.cpp</a>, and <a class="el" href="threadExample_8cpp-example.html#_a2">threadExample.cpp</a>.</dd>
</dl></div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a5b6ab50205f1004c939f3946cfca3c62"></a><!-- doxytag: member="ArMutex::Status" ref="a5b6ab50205f1004c939f3946cfca3c62" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classArMutex.html#a5b6ab50205f1004c939f3946cfca3c62">ArMutex::Status</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a5b6ab50205f1004c939f3946cfca3c62a410e62490f5c6ca8e320d60d1a25081b"></a><!-- doxytag: member="STATUS_FAILED_INIT" ref="a5b6ab50205f1004c939f3946cfca3c62a410e62490f5c6ca8e320d60d1a25081b" args="" -->STATUS_FAILED_INIT</em>&nbsp;</td><td>
<p>Failed to initialize. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5b6ab50205f1004c939f3946cfca3c62afef90eab73ec7c605c7d2093572db8ad"></a><!-- doxytag: member="STATUS_FAILED" ref="a5b6ab50205f1004c939f3946cfca3c62afef90eab73ec7c605c7d2093572db8ad" args="" -->STATUS_FAILED</em>&nbsp;</td><td>
<p>General failure. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5b6ab50205f1004c939f3946cfca3c62a5a52964b5d55e36a0d170a49a8384961"></a><!-- doxytag: member="STATUS_ALREADY_LOCKED" ref="a5b6ab50205f1004c939f3946cfca3c62a5a52964b5d55e36a0d170a49a8384961" args="" -->STATUS_ALREADY_LOCKED</em>&nbsp;</td><td>
<p>Mutex already locked. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a69c6e7a984d23363faabf5969a0aa51b"></a><!-- doxytag: member="ArMutex::ArMutex" ref="a69c6e7a984d23363faabf5969a0aa51b" args="(bool recursive=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classArMutex.html#a69c6e7a984d23363faabf5969a0aa51b">ArMutex::ArMutex</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>recursive</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<p>KMC TESTING myStrMap[STATUS_FAILED_INIT]="Failed to initialize"; myStrMap[STATUS_FAILED]="General failure"; myStrMap[STATUS_ALREADY_LOCKED]="Mutex already locked";</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a427415d8a47d36abee174f8504c2ce67"></a><!-- doxytag: member="ArMutex::getLockWarningTime" ref="a427415d8a47d36abee174f8504c2ce67" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static double <a class="el" href="classArMutex.html#a427415d8a47d36abee174f8504c2ce67">ArMutex::getLockWarningTime</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the lock warning time (sec) </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Available on Linux only </dd></dl>

</div>
</div>
<a class="anchor" id="a97bab3f08a097cc206169deec0a96bb7"></a><!-- doxytag: member="ArMutex::getUnlockWarningTime" ref="a97bab3f08a097cc206169deec0a96bb7" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static double <a class="el" href="classArMutex.html#a97bab3f08a097cc206169deec0a96bb7">ArMutex::getUnlockWarningTime</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the lock warning time (sec) </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Available on Linux only </dd></dl>

</div>
</div>
<a class="anchor" id="a7b6aee74872c19fb8829d96dc3e52f34"></a><!-- doxytag: member="ArMutex::lock" ref="a7b6aee74872c19fb8829d96dc3e52f34" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classArMutex.html#a7b6aee74872c19fb8829d96dc3e52f34">ArMutex::lock</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Lock the mutex. </p>
<p>If this is a recursive mutex (the default type), and a <em>different</em> thread has locked this mutex, then block until it is unlocked; if <em>this</em> thread has locked this mutex, then continue immediately and do not block.</p>
<p>If this is <em>not</em> a recursive mutex, then block if any thread (including this thread) has locked this mutex.</p>
<p>Call setLog(true) to enable extra logging.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the mutex was successfully locked (after blocking if it was already locked by another thread, or by any thread if this is <em>not</em> a recursive mutex). </dd>
<dd>
<a class="el" href="classArMutex.html#a5b6ab50205f1004c939f3946cfca3c62a5a52964b5d55e36a0d170a49a8384961" title="Mutex already locked.">ArMutex::STATUS_ALREADY_LOCKED</a> immediately if this is a recursive mutex (default) and the current thread has already locked this mutex. </dd>
<dd>
<a class="el" href="classArMutex.html#a5b6ab50205f1004c939f3946cfca3c62afef90eab73ec7c605c7d2093572db8ad" title="General failure.">ArMutex::STATUS_FAILED</a> on an error from the platform mutex implementation. </dd>
<dd>
<a class="el" href="classArMutex.html#a5b6ab50205f1004c939f3946cfca3c62a410e62490f5c6ca8e320d60d1a25081b" title="Failed to initialize.">ArMutex::STATUS_FAILED_INIT</a> if the platform threading is not enabled, initialized, etc.</dd></dl>
<p>This function will block until no other thread has this mutex locked. If it returns 0, then it obtained the lock and the thread is free to use the critical section that this mutex protects. Else it returns an error code. See <a class="el" href="classArMutex.html#ab6c0c5262a57b1cad42da3ed161dcd74" title="Get a human readable error message from an error code.">getError()</a>. </p>

</div>
</div>
<a class="anchor" id="ad0df3cd5e0d03c21975d0380585596d1"></a><!-- doxytag: member="ArMutex::setLockWarningTime" ref="ad0df3cd5e0d03c21975d0380585596d1" args="(double lockWarningSeconds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="classArMutex.html#ad0df3cd5e0d03c21975d0380585596d1">ArMutex::setLockWarningTime</a> </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lockWarningSeconds</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the lock warning time (sec). </p>
<p>If it takes more than <em>lockWarningSeconds</em> to perform the mutex lock in <a class="el" href="classArMutex.html#a7b6aee74872c19fb8829d96dc3e52f34" title="Lock the mutex.">lock()</a>, log a warning. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Available on Linux only </dd></dl>

</div>
</div>
<a class="anchor" id="a98c8e884ea991c9eead1359ac4c915bb"></a><!-- doxytag: member="ArMutex::setLog" ref="a98c8e884ea991c9eead1359ac4c915bb" args="(bool log)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classArMutex.html#a98c8e884ea991c9eead1359ac4c915bb">ArMutex::setLog</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets a flag that will log out when we lock and unlock. </p>
<p>Use <a class="el" href="classArMutex.html#a00069ede1325b6f9f500ef2636858262" title="Sets a name we&#39;ll use to log with.">setLogName()</a> to set a descriptive name for this mutex, and <a class="el" href="classArThread.html#af03075fb22fbfca1212d524f772f6c1c" title="Sets the name of the thread.">ArThread::setThreadName()</a> to set a descriptive name for a thread. </p>

</div>
</div>
<a class="anchor" id="a7211feb3bf6a740a857ca6e338229f1b"></a><!-- doxytag: member="ArMutex::setLogNameVar" ref="a7211feb3bf6a740a857ca6e338229f1b" args="(const char *logName,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classArMutex.html#a7211feb3bf6a740a857ca6e338229f1b">ArMutex::setLogNameVar</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>logName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets a name we'll use to log with formatting. </p>
<p><b>Java and Python Wrappers:</b> Not available in Java or Python wrapper libraries. use <a class="el" href="classArMutex.html#a00069ede1325b6f9f500ef2636858262" title="Sets a name we&#39;ll use to log with.">setLogName()</a> </p>

</div>
</div>
<a class="anchor" id="af9459634b10d103c933e058ce73f6874"></a><!-- doxytag: member="ArMutex::setUnlockWarningTime" ref="af9459634b10d103c933e058ce73f6874" args="(double unlockWarningSeconds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="classArMutex.html#af9459634b10d103c933e058ce73f6874">ArMutex::setUnlockWarningTime</a> </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>unlockWarningSeconds</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the unlock warning time (sec). </p>
<p>If it takes more than <em>unlockWarningSeconds</em> between the mutex being locked with <a class="el" href="classArMutex.html#a7b6aee74872c19fb8829d96dc3e52f34" title="Lock the mutex.">lock()</a> then unlocked with <a class="el" href="classArMutex.html#afb51b5514a9456f23441e479fe58fb46" title="Unlock the mutex, allowing another thread to obtain the lock.">unlock()</a>, log a warning. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Available on Linux only </dd></dl>

</div>
</div>
<a class="anchor" id="a76ff7a4aa451cc9c2b08dda0ae77d823"></a><!-- doxytag: member="ArMutex::tryLock" ref="a76ff7a4aa451cc9c2b08dda0ae77d823" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classArMutex.html#a76ff7a4aa451cc9c2b08dda0ae77d823">ArMutex::tryLock</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Try to lock the mutex, but do not block. </p>
<p>Try to lock the mutex.</p>
<p>If this is a recursive mutex (the default type), and a <em>different</em> thread has locked this mutex, then return <a class="el" href="classArMutex.html#a5b6ab50205f1004c939f3946cfca3c62a5a52964b5d55e36a0d170a49a8384961" title="Mutex already locked.">ArMutex::STATUS_ALREADY_LOCKED</a>; if <em>this</em> thread has locked this mutex, then return 0.</p>
<p>If this is <em>not</em> a recursive mutex, then return 0 if any thread (including this thread) has locked this mutex.</p>
<p>Returns <a class="el" href="classArMutex.html#a5b6ab50205f1004c939f3946cfca3c62afef90eab73ec7c605c7d2093572db8ad" title="General failure.">ArMutex::STATUS_FAILED</a> or <a class="el" href="classArMutex.html#a5b6ab50205f1004c939f3946cfca3c62a410e62490f5c6ca8e320d60d1a25081b" title="Failed to initialize.">ArMutex::STATUS_FAILED_INIT</a> on an error (such as threading not initialized or supported).</p>
<p>Call setLog(true) to enable extra logging.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 If <a class="el" href="classArMutex.html#a76ff7a4aa451cc9c2b08dda0ae77d823" title="Try to lock the mutex, but do not block.">tryLock()</a> acquires the lock, or mutex is a recursive mutex (default) and is already locked by this thread </dd>
<dd>
<a class="el" href="classArMutex.html#a5b6ab50205f1004c939f3946cfca3c62a5a52964b5d55e36a0d170a49a8384961" title="Mutex already locked.">ArMutex::STATUS_ALREADY_LOCKED</a> if this mutex is currently locked by another thread, or if mutex is <em>not</em> recursive, by any thread including the current thread. </dd>
<dd>
<a class="el" href="classArMutex.html#a5b6ab50205f1004c939f3946cfca3c62afef90eab73ec7c605c7d2093572db8ad" title="General failure.">ArMutex::STATUS_FAILED</a> on an error from the platform mutex implementation. </dd>
<dd>
<a class="el" href="classArMutex.html#a5b6ab50205f1004c939f3946cfca3c62a410e62490f5c6ca8e320d60d1a25081b" title="Failed to initialize.">ArMutex::STATUS_FAILED_INIT</a> if the platform threading is not enabled, initialized, etc.</dd></dl>
<p>This function will not block if another thread has the mutex locked. It will return instantly if that is the case. It will return STATUS_ALREADY_LOCKED if another thread has the mutex locked. If it obtains the lock, it will return 0. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>ArMutex.h</li>
<li>ArMutex.cpp</li>
<li>ArMutex_LIN.cpp</li>
<li>ArMutex_WIN.cpp</li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classArMutex.html">ArMutex</a>      </li>

    <li class="footer">Generated on Tue Nov 4 2014 09:55:44 for Aria by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
